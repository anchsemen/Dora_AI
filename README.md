# **Дизайн ML системы – DORA**
*Шаблон ML System Design Doc от телеграм-канала [Reliable ML](https://t.me/reliable_ml)*
- Рекомендации по процессу заполнения документа (workflow) - [здесь](https://github.com/IrinaGoloshchapova/ml_system_design_doc_ru/blob/main/ML_System_Design_Doc_Workflow.md).
- Детальный доклад о том, что такое ML System Design Doc и о том, как, когда и зачем его составлять - [тут](https://www.youtube.com/watch?v=PW9TGNr1Vqk).

### **1. Цели и предпосылки** 
#### **1.1. Зачем идем в разработку продукта?**  
#### **Бизнес цели**

1) Релизнуть модуль “Партнер” в телеграм-боте и доработать промты (т.е. сделать диалог качественным для пользователя) за следующие 3 месяца, также внедрить систему подписки для данного модуля. 

    **Какие методы будут использоваться для достижения цели?**
    Разработка модуля и релиз. Тестирование и исправление багов. 

2) Сформировать воронку привлечения пользователей на модуль “Партнер” за следующие 6 месяцев, и привлечь 5.000 пользователей. 

    **Какие методы будут использоваться для достижения цели?**
    Создание “банка гипотез” тестируя которые мы будем привлекать пользователей. 

3) В течение 5 месяцев монетизировать пользователей, путем введения подписочной системы за “PRO-контент” в модуле “Партнер”. 

    **Какие методы будут использоваться для достижения цели?**
    CustDev с пользователями и выявление паттернов (шаблонов) поведения, результатами которых будет покупка подписки на бота.


#### **Почему станет лучше, чем сейчас, от использования ML**
На данный момент проблема, которую мы решаем с применением технологий ML, решается использованием личного общения и тратой большего количества денег и человеческих часов. 

Рассмотрим пример: Есть Максим, и у него сложности с общением и социализацией, возникшие из-за удаленной работы и из-за того, что у него маленькое окружение для общения и есть сложности с восприятием себя (слишком завышенная самооценка). 


Решение проблем со стороны Максима: 
1. Походы к психологу (4.000 ₽/прием)
2. Постоянное общение с другом
3. Постоянное общение с девушками в приложениях для знакомств (≈ 700 ₽/неделя)

Для друга Максима постоянная поддержка, которую он дает Максиму дается тяжело, потому что это требует много сил и внимания, и поэтому для него периодами становится это тяжело.

**Как решит бот все эти проблемы:** 
1. Поддержка и общение
2. Партнер
3. И он всегда на связи, всегда можно поговорить и написать, буквально о самых простых бытовых вещах. 
И решая все проблемы убирается человеческих фактор, бот заменяет 3-5 людей из окружения пользователя.


#### **Что будем считать успехом итерации с точки зрения бизнеса** 
1. Выполнение поставленных целей, а если не выйдет их реализовать, то анализ нашего опыта и проделанной работы и понимание, какие мы ошибки мы допустили.
2. Запуск системы подписок в боте, и поиск пользователей, которые будут платить.
3. CustDev платящих пользователей. 
4. формирование дальнейших планов по развитию продукта.



#### **1.2. Бизнес-требования и ограничения**
#### **Краткое описание БТ и ссылки на детальные документы с бизнес-требованиями**

**Функциональные требования:**
1. Интерактивное взаимодействие: бот должен способствовать непринужденному и естественному общению с пользователем, предлагая ответы на вопросы, предоставляя информацию или просто развлекая. При общении с ботом у пользователя должно складываться впечатление будто он общается со своим хорошим другом или близким человеком. 

2. Распознавание речи и текста, распознавание и запоминание контекста:
    - бот должен уметь распознавать сообщения пользователя и выстраивать диалоговую линию; 
    - бот должен уметь распознавать голосовые сообщения от пользователя.


3. Персонализированный опыт: бот должен учитывать предпочтения и интересы пользователя, предоставляя контент, который наиболее подходит для конкретного человека.

**Нефункциональные требования:**
1. Безопасность данных: бот должен гарантировать защиту конфиденциальности и безопасность информации, предоставляемой или получаемой от пользователя.

2. Скорость ответа: бот должен обеспечивать низкую задержку при ответах бота для создания естественного и плавного взаимодействия.

3. Доступность: гарантировать, что бот доступен для пользователей в течение большей части времени.

4. Масштабируемость: обеспечить способность бота обрабатывать увеличивающееся количество пользователей, сохраняя при этом высокий уровень производительности.

**Требования к контенту:**
1. Разнообразие контента: бот должен обеспечить наличие разнообразного контента, который может быть предоставлен пользователю, включая полезную информацию, ролевые игры и другие развлекательные элементы, общение в формате 18+. 

2. Обновление контента: регулярное обновление бота для улучшения общения с пользователями.

#### **Бизнес-ограничения** 
**1. Ограничения по безопасности данных:**
Бот должен соблюдать стандарты безопасности данных и предоставлять гарантии отсутствия утечек личной информации пользователя. Необходимо также обеспечить шифрование данных для защиты конфиденциальности.

**2. Ограничения по контенту:**
Бот должен следовать правилам и стандартам в отношении контента, с учетом законодательства. При общении с ботом пользователи должны ознакомиться с политикой конфиденциальности и Правилами пользования, а при покупке подписки с офертой.

**3. Ограничения по обучению модели:** 
Процесс обучения модели бота должен не допускать обучение на данных, нарушающих правила конфиденциальности. Обучение модели должно строиться на открытых датасетах и на данных со свободной лицензией пользования.

**4. Ограничения по интеграции с другим ПО:**
Бот может столкнуться с ограничениями в интеграции с другим ПО, так как исходный код бота и используемые библиотеки могут быть несовместимы с определенными технологиями или стандартами.

**5. Ограничения по доступности:**
Бот может сталкиваться с ограничениями в обеспечении высокой доступности и скорости, так как это зависит от стабильности и доступности используемых открытых моделей.

**6. Ограничения по локализации и языковой поддержке:**
Бот может оказывать ограниченную поддержку различных языков и культур, из-за языковых особенностей в разных странах. Необходимо ясно определить доступные языки и уровень поддержки.

**7. Соблюдение лицензионных ограничений:** 
Бот должен строго соблюдать условия лицензий, предоставленных открытыми моделями в опенсорсе, которые будут использоваться в боте, и не противоречить ограничениям, установленным правообладателями.

**8. Контроль за этическими аспектами:**
Бот должен соблюдать этические стандарты, не пропагандировать негативное поведение или дискриминацию, и обеспечивать этическое взаимодействие с пользователями.

**9. Оказание психологической помощи:** 
При использовании бота до пользователей перед использованием необходимо донести информацию о том, что бот не является медицинским специалистом и не оказывает психологическую помощь, а только поддерживает (помогает) как друг и/или близкий человек. 

**10. Ограничение серверных мощностей для работы нейронных сетей:** 
Ограничение по серверным мощностям связано с необходимостью обеспечения достаточных вычислительных ресурсов для эффективного функционирования нейронных сетей, используемых в боте.



#### **Что мы ожидаем от конкретной итерации?**
Чтобы спрогнозировать цели, которые будут ожидаться от итерации необходимо поставить сроки для одного итеративного цикла. Ближайший итеративный цикл ставится на январь: 
|**Срок**|**Проводимые работы**|**Результат**|
| :-: | :-: | :-: |
|Январь|Реализация модуля “Партнер” в боте, которая включает в себя:  <ul><li>дообучение модели на датасетах</li><li>интеграция модели в бота</li><li>создание библиотеки с персонажами для модуля</li><li>тестирование диалогов</li><li>промпт-инжиниринг и создание ветвей диалогов</li></ul> | Готовый модуль “Партнер”, интегрированный в бота в телеграмме, в котором у пользователя будет возможность: <ul><li>выбора персонажа</li><li>общение с персонажем в рамках заданного модуля</li><li>общение в рамках диалогов с контентом 18+</li></ul>|

